//ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ 
//
// ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚ 
//
// è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
//è¾“å‡ºï¼štail connects to node index 1
//è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
// 
//
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šhead = [1,2], pos = 0
//è¾“å‡ºï¼štail connects to node index 0
//è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
// 
//
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// è¾“å…¥ï¼šhead = [1], pos = -1
//è¾“å‡ºï¼šno cycle
//è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
// 
//
// 
//
// 
//
// è¿›é˜¶ï¼š 
//ä½ æ˜¯å¦å¯ä»¥ä¸ç”¨é¢å¤–ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ 
// Related Topics é“¾è¡¨ åŒæŒ‡é’ˆ 
// ğŸ‘ 660 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
/**
 * Example:
 * var li = ListNode(5)
 * var v = li.`val`
 * Definition for singly-linked list.
 * class ListNode(var `val`: Int) {
 *     var next: ListNode? = null
 * }
 */

class Solution {
    fun detectCycle(head: ListNode?): ListNode? {
        // 1. å¯»æ‰¾åŒæŒ‡é’ˆç›¸äº¤ä½ç½®
        var slow = head
        var fast = head
        var intersect: ListNode? = null
        while (null != fast && null != fast.next) {
            slow = slow!!.next
            fast = fast.next!!.next
            if (slow == fast) {
                intersect = slow
                break
            }
        }
        // 2. å¯»æ‰¾æˆç¯ä½ç½®
        if (null == intersect) {
            return null
        } else {
            var p = intersect
            var q = head
            while (p != q) {
                p = p!!.next
                q = q!!.next
            }
            return p
        }
    }

//åŒæŒ‡é’ˆå¿«æ…¢ æš´åŠ›è§£æ³•
fun detectCycle(head: ListNode?): ListNode? {
        if (head == null) return null
        var fast = head
        var slow = head
        while (true){
            if (fast== null&&fast?.next == null){
                return null
            }
            fast = fast.next?.next
            slow = slow?.next
            if (slow == fast) break
        }

        fast = head
        while (fast != slow){
            slow = slow?.next
            fast = fast?.next
        }
        return fast
    }


	//æ”¾åˆ°hashè¡¨é‡Œé¢ï¼Œå¦‚æœæœ‰å­˜åœ¨ç›¸åŒçš„å°±è¡¨ç¤ºæœ‰ç¯
    fun detectCycle(head: ListNode?): ListNode? {
        if (head == null) return null
        val hashSet = HashSet<ListNode>()
        var pos = head
        while (pos!=null){
            if (hashSet.contains(pos)){
                return pos
            }else{
                hashSet.add(pos)
            }
            pos = pos.next
        }
        return null
    }

}
//leetcode submit region end(Prohibit modification and deletion)

